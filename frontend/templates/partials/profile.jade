div(class="fullwidth-wrapper orange")
    div.content-wrapper
        div.breadcrumbs-wrapper
            a(href="#/", class="link breadcrumbs-item") Home
            span(class="breadcrumbs-item current") Profile

div(class="fullwidth-wrapper profile")

div(class="fullwidth-wrapper white padded")
    div.content-wrapper
        span.sim-presentation-title / Profile

        div.profile-details
            div.profile-details-stats-wrapper
                h2(class="section-title", ng-if="user.own_profile") / Your stats
                h2(class="section-title", ng-if="!user.own_profile") / {{ user.display_name }}'s stats

                ul.profile-stats-list
                    li.profile-stats-list-item
                        div.profile-stats-circle
                            span.profile-stats-circle-inner {{ setups_count }}
                        span.profile-stats-list-title Number of setup posted
                    li.profile-stats-list-item
                        div.profile-stats-circle
                            span.profile-stats-circle-inner {{ total_downloads }}
                        span.profile-stats-list-title Total downloads

            div(class="profile-details-changes-wrapper", ng-if="user.own_profile")
                h2.section-title / Change your profile

                ul.profile-changes-list
                    li.profile-changes-list-item
                        label(for="profile-change-username", class="label-block") Username
                        input(id="profile-change-username", class="form-textfield",placeholder="Enter your desired username")
                        div(class="profile-change-username-msg-box msg-box")
                        button(type="button", class="form-submitbutton", ng-click="updateUsername()") Update

                    //- li Change your nationality

        div.profile-setupList
            h2(class="section-title", ng-if="user.own_profile") / Your uploaded setups
            h2(class="section-title", ng-if="!user.own_profile") / {{ user.display_name }}'s uploaded setups

            table.setupList-setups-table
                tr
                    th / Actions
                    th
                        span(class="orderable", ng-click="order('file_name')")
                            span / File Name
                            i(ng-class="{'icon-downarrow':reverse && predicate === 'file_name', 'icon-uparrow':!reverse && predicate === 'file_name'}")
                    th
                        div.form-select-wrapper
                            select(ng-model="filter_query.sim", ng-options="sim_filters for sim_filters in setup_filters.sim_filters")
                                option(value="") / All sims
                    th
                        div.form-select-wrapper
                            select(ng-model="filter_query.car", ng-options="car_filters for car_filters in setup_filters.car_filters")
                                option(value="") / All cars
                    th
                        div.form-select-wrapper
                            select(ng-model="filter_query.track", ng-options="track_filters for track_filters in setup_filters.track_filters")
                                option(value="") / All tracks
                    th
                        div.form-select-wrapper
                            select(ng-model="filter_query.type", ng-options="type_filters for type_filters in setup_filters.type_filters")
                                option(value="") / All trims
                    th
                        span(class="orderable", ng-class="{reverse:reverse}", ng-click="order('downloads')")
                            span / Downloads
                            i(ng-class="{'icon-downarrow':reverse && predicate === 'downloads', 'icon-uparrow':!reverse && predicate === 'downloads'}")
                    th
                        span(class="orderable", ng-class="{reverse:reverse}", ng-click="order('added_date.timestamp')")
                            span / Added date
                            i(ng-class="{'icon-downarrow':reverse && predicate === 'added_date.timestamp', 'icon-uparrow':!reverse && predicate === 'added_date.timestamp'}")

                tr(ng-repeat="setup in setups | filter:{ sim:filter_query.sim||undefined, car:filter_query.car||undefined, track:filter_query.track||undefined, type:filter_query.type||undefined } | orderBy:predicate:reverse")
                    td
                        a(href="setup_files/{{ setup.simid }}/{{ setup._id }}", class="link icon-download")
                        a(href="#/setups/{{ setup.sim }}/{{ setup._id }}/", class="link icon-details")
                        a(class="link icon-error no-href", ng-click="deleteSetup(setup._id)", ng-show="user.own_profile")
                    td {{ setup.file_name }}
                    td {{ setup.sim }}
                    td {{ setup.car }}
                    td {{ setup.track }}
                    td {{ setup.type }}
                    td {{ setup.downloads }}
                    td {{ setup.added_date.display_time }}